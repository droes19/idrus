import*as a from"@angular/common";import{CommonModule as y}from"@angular/common";import*as e from"@angular/core";import{EventEmitter as p}from"@angular/core";import*as u from"@angular/router";import{RouterModule as d}from"@angular/router";import{PrimeTemplate as x,SharedModule as b}from"primeng/api";import*as f from"primeng/ripple";import{RippleModule as C}from"primeng/ripple";import*as g from"primeng/tooltip";import{TooltipModule as m}from"primeng/tooltip";import{UniqueComponentId as I,ObjectUtils as v}from"primeng/utils";import{DomHandler as c}from"primeng/dom";var O=["list"];function w(o,l){if(o&1&&e.ɵɵelement(0,"span",12),o&2){let t=e.ɵɵnextContext(2).$implicit;e.ɵɵproperty("ngClass",t.icon)("ngStyle",t.iconStyle)}}function D(o,l){o&1&&e.ɵɵelementContainer(0)}var h=o=>({"p-disabled":o}),L=()=>({exact:!1}),k=o=>({$implicit:o});function T(o,l){if(o&1&&(e.ɵɵelementStart(0,"a",9),e.ɵɵtemplate(1,w,1,2,"span",10)(2,D,1,0,"ng-container",11),e.ɵɵelementEnd()),o&2){let t=e.ɵɵnextContext().$implicit,i=e.ɵɵnextContext();e.ɵɵproperty("routerLink",t.routerLink)("queryParams",t.queryParams)("ngClass",e.ɵɵpureFunction1(17,h,t.disabled))("routerLinkActiveOptions",t.routerLinkActiveOptions||e.ɵɵpureFunction0(19,L))("target",t.target)("tooltipOptions",t.tooltipOptions)("fragment",t.fragment)("queryParamsHandling",t.queryParamsHandling)("preserveFragment",t.preserveFragment)("skipLocationChange",t.skipLocationChange)("replaceUrl",t.replaceUrl)("state",t.state),e.ɵɵattribute("tabindex",t.disabled||i.readonly?null:t.tabindex?t.tabindex:"-1")("aria-hidden",!0),e.ɵɵadvance(1),e.ɵɵproperty("ngIf",t.icon&&!i.itemTemplate),e.ɵɵadvance(1),e.ɵɵproperty("ngTemplateOutlet",i.itemTemplate)("ngTemplateOutletContext",e.ɵɵpureFunction1(20,k,t))}}function F(o,l){if(o&1&&e.ɵɵelement(0,"span",12),o&2){let t=e.ɵɵnextContext(2).$implicit;e.ɵɵproperty("ngClass",t.icon)("ngStyle",t.iconStyle)}}function E(o,l){o&1&&e.ɵɵelementContainer(0)}function S(o,l){if(o&1&&(e.ɵɵelementStart(0,"a",13),e.ɵɵtemplate(1,F,1,2,"span",10)(2,E,1,0,"ng-container",11),e.ɵɵelementEnd()),o&2){let t=e.ɵɵnextContext(),i=t.$implicit,n=t.index,r=e.ɵɵnextContext();e.ɵɵproperty("tooltipPosition",i.tooltipPosition)("tooltipOptions",i.tooltipOptions)("ngClass",e.ɵɵpureFunction1(10,h,i.disabled))("target",i.target),e.ɵɵattribute("href",i.url||null,e.ɵɵsanitizeUrl)("tabindex",i.disabled||n!==r.activeIndex&&r.readonly?null:i.tabindex?i.tabindex:"-1")("aria-hidden",!0),e.ɵɵadvance(1),e.ɵɵproperty("ngIf",i.icon&&!r.itemTemplate),e.ɵɵadvance(1),e.ɵɵproperty("ngTemplateOutlet",r.itemTemplate)("ngTemplateOutletContext",e.ɵɵpureFunction1(12,k,i))}}function A(o,l){if(o&1){let t=e.ɵɵgetCurrentView();e.ɵɵelementStart(0,"li",5),e.ɵɵlistener("click",function(n){let s=e.ɵɵrestoreView(t).$implicit,_=e.ɵɵnextContext();return e.ɵɵresetView(_.onItemClick(n,s))})("mouseenter",function(){let r=e.ɵɵrestoreView(t).index,s=e.ɵɵnextContext();return e.ɵɵresetView(s.onItemMouseEnter(r))}),e.ɵɵelementStart(1,"div",6),e.ɵɵtemplate(2,T,3,22,"a",7)(3,S,3,14,"ng-template",null,8,e.ɵɵtemplateRefExtractor),e.ɵɵelementEnd()()}if(o&2){let t=l.$implicit,i=l.index,n=e.ɵɵreference(4),r=e.ɵɵnextContext();e.ɵɵproperty("ngClass",r.itemClass(t,i)),e.ɵɵattribute("id",r.getItemId(t,i))("aria-label",t.label)("aria-disabled",r.disabled(t))("data-pc-section","menuitem")("data-p-focused",r.isItemActive(r.getItemId(t,i)))("data-p-disabled",r.disabled(t)||!1),e.ɵɵadvance(1),e.ɵɵattribute("data-pc-section","content"),e.ɵɵadvance(1),e.ɵɵproperty("ngIf",r.isClickableRouterLink(t))("ngIfElse",n)}}var W=(()=>{class o{el;cd;id;style;styleClass;model=null;position="bottom";ariaLabel;ariaLabelledBy;onFocus=new p;onBlur=new p;templates;listViewChild;itemTemplate;currentIndex;tabindex=0;focused=!1;focusedOptionIndex=-1;get focusedOptionId(){return this.focusedOptionIndex!==-1?this.focusedOptionIndex:null}constructor(t,i){this.el=t,this.cd=i,this.currentIndex=-3}ngOnInit(){this.id=this.id||I()}ngAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"item":this.itemTemplate=t.template;break;default:this.itemTemplate=t.template;break}})}getItemId(t,i){return t&&t?.id?t.id:`${i}`}getItemProp(t,i){return t&&t.item?v.getItemValue(t.item[i]):void 0}disabled(t){return typeof t.disabled=="function"?t.disabled():t.disabled}isItemActive(t){return t===this.focusedOptionIndex}onListMouseLeave(){this.currentIndex=-3,this.cd.markForCheck()}onItemMouseEnter(t){this.currentIndex=t,this.cd.markForCheck()}onItemClick(t,i){i.command&&i.command({originalEvent:t,item:i})}onListFocus(t){this.focused=!0,this.changeFocusedOptionIndex(0),this.onFocus.emit(t)}onListBlur(t){this.focused=!1,this.focusedOptionIndex=-1,this.onBlur.emit(t)}onListKeyDown(t){switch(t.code){case"ArrowDown":{(this.position==="left"||this.position==="right")&&this.onArrowDownKey(),t.preventDefault();break}case"ArrowUp":{(this.position==="left"||this.position==="right")&&this.onArrowUpKey(),t.preventDefault();break}case"ArrowRight":{(this.position==="top"||this.position==="bottom")&&this.onArrowDownKey(),t.preventDefault();break}case"ArrowLeft":{(this.position==="top"||this.position==="bottom")&&this.onArrowUpKey(),t.preventDefault();break}case"Home":{this.onHomeKey(),t.preventDefault();break}case"End":{this.onEndKey(),t.preventDefault();break}case"Enter":case"Space":{this.onSpaceKey(),t.preventDefault();break}default:break}}onArrowDownKey(){let t=this.findNextOptionIndex(this.focusedOptionIndex);this.changeFocusedOptionIndex(t)}onArrowUpKey(){let t=this.findPrevOptionIndex(this.focusedOptionIndex);this.changeFocusedOptionIndex(t)}onHomeKey(){this.changeFocusedOptionIndex(0)}onEndKey(){this.changeFocusedOptionIndex(c.find(this.listViewChild.nativeElement,"li[data-pc-section=\"menuitem\"][data-p-disabled=\"false\"]").length-1)}onSpaceKey(){let t=c.findSingle(this.listViewChild.nativeElement,`li[id="${`${this.focusedOptionIndex}`}"]`),i=t&&c.findSingle(t,"[data-pc-section=\"action\"]");i?i.click():t&&t.click()}findNextOptionIndex(t){let n=[...c.find(this.listViewChild.nativeElement,"li[data-pc-section=\"menuitem\"][data-p-disabled=\"false\"]")].findIndex(r=>r.id===t);return n>-1?n+1:0}changeFocusedOptionIndex(t){let i=c.find(this.listViewChild.nativeElement,"li[data-pc-section=\"menuitem\"][data-p-disabled=\"false\"]"),n=t>=i.length?i.length-1:t<0?0:t;this.focusedOptionIndex=i[n].getAttribute("id")}findPrevOptionIndex(t){let n=[...c.find(this.listViewChild.nativeElement,"li[data-pc-section=\"menuitem\"][data-p-disabled=\"false\"]")].findIndex(r=>r.id===t);return n>-1?n-1:0}get containerClass(){return{[`p-dock p-component  p-dock-${this.position}`]:!0}}isClickableRouterLink(t){return t.routerLink&&!t.disabled}itemClass(t,i){return{"p-dock-item":!0,"p-dock-item-second-prev":this.currentIndex-2===i,"p-dock-item-prev":this.currentIndex-1===i,"p-dock-item-current":this.currentIndex===i,"p-dock-item-next":this.currentIndex+1===i,"p-dock-item-second-next":this.currentIndex+2===i,"p-focus":this.isItemActive(this.getItemId(t,i))}}static ɵfac=function(i){return new(i||o)(e.ɵɵdirectiveInject(e.ElementRef),e.ɵɵdirectiveInject(e.ChangeDetectorRef))};static ɵcmp=e.ɵɵdefineComponent({type:o,selectors:[["p-dock"]],contentQueries:function(i,n,r){if(i&1&&e.ɵɵcontentQuery(r,x,4),i&2){let s;e.ɵɵqueryRefresh(s=e.ɵɵloadQuery())&&(n.templates=s)}},viewQuery:function(i,n){if(i&1&&e.ɵɵviewQuery(O,5),i&2){let r;e.ɵɵqueryRefresh(r=e.ɵɵloadQuery())&&(n.listViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{id:"id",style:"style",styleClass:"styleClass",model:"model",position:"position",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy"},outputs:{onFocus:"onFocus",onBlur:"onBlur"},decls:5,vars:13,consts:[[3,"ngClass","ngStyle"],[1,"p-dock-list-container"],["role","menu",1,"p-dock-list",3,"tabindex","focus","blur","keydown","mouseleave"],["list",""],["role","menuitem",3,"ngClass","click","mouseenter",4,"ngFor","ngForOf"],["role","menuitem",3,"ngClass","click","mouseenter"],[1,"p-menuitem-content"],["pRipple","","class","p-dock-link","pTooltip","",3,"routerLink","queryParams","ngClass","routerLinkActiveOptions","target","tooltipOptions","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state",4,"ngIf","ngIfElse"],["elseBlock",""],["pRipple","","pTooltip","",1,"p-dock-link",3,"routerLink","queryParams","ngClass","routerLinkActiveOptions","target","tooltipOptions","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state"],["class","p-dock-action-icon",3,"ngClass","ngStyle",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-dock-action-icon",3,"ngClass","ngStyle"],["pRipple","","pTooltip","",1,"p-dock-link",3,"tooltipPosition","tooltipOptions","ngClass","target"]],template:function(i,n){i&1&&(e.ɵɵelementStart(0,"div",0)(1,"div",1)(2,"ul",2,3),e.ɵɵlistener("focus",function(s){return n.onListFocus(s)})("blur",function(s){return n.onListBlur(s)})("keydown",function(s){return n.onListKeyDown(s)})("mouseleave",function(){return n.onListMouseLeave()}),e.ɵɵtemplate(4,A,5,10,"li",4),e.ɵɵelementEnd()()()),i&2&&(e.ɵɵclassMap(n.styleClass),e.ɵɵproperty("ngClass",n.containerClass)("ngStyle",n.style),e.ɵɵattribute("data-pc-name","dock"),e.ɵɵadvance(2),e.ɵɵproperty("tabindex",n.tabindex),e.ɵɵattribute("id",n.id)("aria-orientation",n.position==="bottom"||n.position==="top"?"horizontal":"vertical")("aria-activedescendant",n.focused?n.focusedOptionId:void 0)("aria-label",n.ariaLabel)("aria-labelledby",n.ariaLabelledBy)("data-pc-section","menu"),e.ɵɵadvance(2),e.ɵɵproperty("ngForOf",n.model))},dependencies:[a.NgClass,a.NgForOf,a.NgIf,a.NgTemplateOutlet,a.NgStyle,u.RouterLink,f.Ripple,g.Tooltip],styles:[`@layer primeng{.p-dock{position:absolute;z-index:1;display:flex;justify-content:center;align-items:center;pointer-events:none}.p-dock-list-container{display:flex;pointer-events:auto}.p-dock-list{margin:0;padding:0;list-style:none;display:flex;align-items:center;justify-content:center}.p-dock-item{transition:all .2s cubic-bezier(.4,0,.2,1);will-change:transform}.p-dock-link{display:flex;flex-direction:column;align-items:center;justify-content:center;position:relative;overflow:hidden;cursor:default}.p-dock-item-second-prev,.p-dock-item-second-next{transform:scale(1.2)}.p-dock-item-prev,.p-dock-item-next{transform:scale(1.4)}.p-dock-item-current{transform:scale(1.6);z-index:1}.p-dock-top{left:0;top:0;width:100%}.p-dock-top .p-dock-item{transform-origin:center top}.p-dock-bottom{left:0;bottom:0;width:100%}.p-dock-bottom .p-dock-item{transform-origin:center bottom}.p-dock-right{right:0;top:0;height:100%}.p-dock-right .p-dock-item{transform-origin:center right}.p-dock-right .p-dock-list{flex-direction:column}.p-dock-left{left:0;top:0;height:100%}.p-dock-left .p-dock-item{transform-origin:center left}.p-dock-left .p-dock-list{flex-direction:column}}
`],encapsulation:2,changeDetection:0})}return o})(),X=(()=>{class o{static ɵfac=function(i){return new(i||o)};static ɵmod=e.ɵɵdefineNgModule({type:o});static ɵinj=e.ɵɵdefineInjector({imports:[y,d,C,m,b,m,d]})}return o})();export{W as Dock,X as DockModule};