import*as e from"@angular/core";import{EventEmitter as p}from"@angular/core";import*as l from"@angular/common";import{CommonModule as y}from"@angular/common";import{ObjectUtils as d}from"primeng/utils";import*as g from"primeng/api";import{TranslationKeys as _,Header as T,Footer as v,PrimeTemplate as L,SharedModule as c}from"primeng/api";import*as u from"primeng/paginator";import{PaginatorModule as C}from"primeng/paginator";import{SpinnerIcon as h}from"primeng/icons/spinner";import{ThLargeIcon as f}from"primeng/icons/thlarge";import{BarsIcon as w}from"primeng/icons/bars";function P(a,n){if(a&1&&e.ɵɵelement(0,"i"),a&2){let t=e.ɵɵnextContext(2);e.ɵɵclassMap("p-dataview-loading-icon pi-spin "+t.loadingIcon)}}function I(a,n){a&1&&e.ɵɵelement(0,"SpinnerIcon",14),a&2&&e.ɵɵproperty("spin",!0)("styleClass","p-dataview-loading-icon")}function S(a,n){}function D(a,n){a&1&&e.ɵɵtemplate(0,S,0,0,"ng-template")}function V(a,n){if(a&1&&(e.ɵɵelementContainerStart(0),e.ɵɵtemplate(1,I,1,2,"SpinnerIcon",12)(2,D,1,0,null,13),e.ɵɵelementContainerEnd()),a&2){let t=e.ɵɵnextContext(2);e.ɵɵadvance(1),e.ɵɵproperty("ngIf",!t.loadingIconTemplate),e.ɵɵadvance(1),e.ɵɵproperty("ngTemplateOutlet",t.loadingIconTemplate)}}function O(a,n){if(a&1&&(e.ɵɵelementStart(0,"div",9)(1,"div",10),e.ɵɵtemplate(2,P,1,2,"i",11)(3,V,3,2,"ng-container",6),e.ɵɵelementEnd()()),a&2){let t=e.ɵɵnextContext();e.ɵɵadvance(2),e.ɵɵproperty("ngIf",t.loadingIcon),e.ɵɵadvance(1),e.ɵɵproperty("ngIf",!t.loadingIcon)}}function k(a,n){a&1&&e.ɵɵelementContainer(0)}function R(a,n){if(a&1&&(e.ɵɵelementStart(0,"div",15),e.ɵɵprojection(1),e.ɵɵtemplate(2,k,1,0,"ng-container",13),e.ɵɵelementEnd()),a&2){let t=e.ɵɵnextContext();e.ɵɵadvance(2),e.ɵɵproperty("ngTemplateOutlet",t.headerTemplate)}}function b(a,n){if(a&1){let t=e.ɵɵgetCurrentView();e.ɵɵelementStart(0,"p-paginator",16),e.ɵɵlistener("onPageChange",function(i){e.ɵɵrestoreView(t);let r=e.ɵɵnextContext();return e.ɵɵresetView(r.paginate(i))}),e.ɵɵelementEnd()}if(a&2){let t=e.ɵɵnextContext();e.ɵɵproperty("rows",t.rows)("first",t.first)("totalRecords",t.totalRecords)("pageLinkSize",t.pageLinks)("alwaysShow",t.alwaysShowPaginator)("rowsPerPageOptions",t.rowsPerPageOptions)("dropdownAppendTo",t.paginatorDropdownAppendTo)("dropdownScrollHeight",t.paginatorDropdownScrollHeight)("templateLeft",t.paginatorLeftTemplate)("templateRight",t.paginatorRightTemplate)("currentPageReportTemplate",t.currentPageReportTemplate)("showFirstLastIcon",t.showFirstLastIcon)("dropdownItemTemplate",t.paginatorDropdownItemTemplate)("showCurrentPageReport",t.showCurrentPageReport)("showJumpToPageDropdown",t.showJumpToPageDropdown)("showPageLinks",t.showPageLinks)("styleClass",t.paginatorStyleClass)}}function F(a,n){a&1&&e.ɵɵelementContainer(0)}function z(a,n){if(a&1&&(e.ɵɵelementContainerStart(0),e.ɵɵtext(1),e.ɵɵelementContainerEnd()),a&2){let t=e.ɵɵnextContext(2);e.ɵɵadvance(1),e.ɵɵtextInterpolate1(" ",t.emptyMessageLabel," ")}}function M(a,n){a&1&&e.ɵɵelementContainer(0,null,19)}function E(a,n){if(a&1&&(e.ɵɵelementStart(0,"div")(1,"div",17),e.ɵɵtemplate(2,z,2,1,"ng-container",18)(3,M,2,0,"ng-container",13),e.ɵɵelementEnd()()),a&2){let t=e.ɵɵnextContext();e.ɵɵadvance(2),e.ɵɵproperty("ngIf",!t.emptyMessageTemplate)("ngIfElse",t.empty),e.ɵɵadvance(1),e.ɵɵproperty("ngTemplateOutlet",t.emptyMessageTemplate)}}function x(a,n){if(a&1){let t=e.ɵɵgetCurrentView();e.ɵɵelementStart(0,"p-paginator",20),e.ɵɵlistener("onPageChange",function(i){e.ɵɵrestoreView(t);let r=e.ɵɵnextContext();return e.ɵɵresetView(r.paginate(i))}),e.ɵɵelementEnd()}if(a&2){let t=e.ɵɵnextContext();e.ɵɵproperty("rows",t.rows)("first",t.first)("totalRecords",t.totalRecords)("pageLinkSize",t.pageLinks)("alwaysShow",t.alwaysShowPaginator)("rowsPerPageOptions",t.rowsPerPageOptions)("dropdownAppendTo",t.paginatorDropdownAppendTo)("dropdownScrollHeight",t.paginatorDropdownScrollHeight)("templateLeft",t.paginatorLeftTemplate)("templateRight",t.paginatorRightTemplate)("currentPageReportTemplate",t.currentPageReportTemplate)("showFirstLastIcon",t.showFirstLastIcon)("dropdownItemTemplate",t.paginatorDropdownItemTemplate)("showCurrentPageReport",t.showCurrentPageReport)("showJumpToPageDropdown",t.showJumpToPageDropdown)("showPageLinks",t.showPageLinks)("styleClass",t.paginatorStyleClass)}}function A(a,n){a&1&&e.ɵɵelementContainer(0)}function B(a,n){if(a&1&&(e.ɵɵelementStart(0,"div",21),e.ɵɵprojection(1,1),e.ɵɵtemplate(2,A,1,0,"ng-container",13),e.ɵɵelementEnd()),a&2){let t=e.ɵɵnextContext();e.ɵɵadvance(2),e.ɵɵproperty("ngTemplateOutlet",t.footerTemplate)}}var j=[[["p-header"]],[["p-footer"]]],H=(a,n)=>({"p-dataview p-component":!0,"p-dataview-list":a,"p-dataview-grid":n}),N=a=>({$implicit:a}),J=["p-header","p-footer"];function Q(a,n){a&1&&e.ɵɵelement(0,"BarsIcon")}function q(a,n){}function G(a,n){a&1&&e.ɵɵtemplate(0,q,0,0,"ng-template")}function K(a,n){a&1&&e.ɵɵelement(0,"ThLargeIcon")}function U(a,n){}function Y(a,n){a&1&&e.ɵɵtemplate(0,U,0,0,"ng-template")}var m=a=>({"p-highlight":a}),$=(()=>{class a{el;cd;filterService;config;paginator;rows;totalRecords;pageLinks=5;rowsPerPageOptions;paginatorPosition="bottom";paginatorStyleClass;alwaysShowPaginator=!0;paginatorDropdownAppendTo;paginatorDropdownScrollHeight="200px";currentPageReportTemplate="{currentPage} of {totalPages}";showCurrentPageReport;showJumpToPageDropdown;showFirstLastIcon=!0;showPageLinks=!0;lazy;lazyLoadOnInit=!0;emptyMessage="";style;styleClass;gridStyleClass="";trackBy=(t,o)=>o;filterBy;filterLocale;loading;loadingIcon;first=0;sortField;sortOrder;value;get layout(){return this._layout}set layout(t){this._layout=t,this.initialized&&this.changeLayout(t)}onLazyLoad=new p;onPage=new p;onSort=new p;onChangeLayout=new p;header;footer;templates;_value;listTemplate;gridTemplate;itemTemplate;headerTemplate;emptyMessageTemplate;footerTemplate;paginatorLeftTemplate;paginatorRightTemplate;paginatorDropdownItemTemplate;loadingIconTemplate;listIconTemplate;gridIconTemplate;filteredValue;filterValue;initialized;_layout="list";translationSubscription;get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(_.EMPTY_MESSAGE)}constructor(t,o,i,r){this.el=t,this.cd=o,this.filterService=i,this.config=r}ngOnInit(){this.lazy&&this.lazyLoadOnInit&&this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.cd.markForCheck()}),this.initialized=!0}ngOnChanges(t){t.value&&(this._value=t.value.currentValue,this.updateTotalRecords(),!this.lazy&&this.hasFilter()&&this.filter(this.filterValue)),(t.sortField||t.sortOrder)&&(!this.lazy||this.initialized)&&this.sort()}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"listItem":case"list":this.listTemplate=t.template;break;case"gridItem":case"grid":this.gridTemplate=t.template;break;case"paginatorleft":this.paginatorLeftTemplate=t.template;break;case"paginatorright":this.paginatorRightTemplate=t.template;break;case"paginatordropdownitem":this.paginatorDropdownItemTemplate=t.template;break;case"empty":this.emptyMessageTemplate=t.template;break;case"header":this.headerTemplate=t.template;break;case"footer":this.footerTemplate=t.template;break;case"loadingicon":this.loadingIconTemplate=t.template;break;case"listicon":this.listIconTemplate=t.template;break;case"gridicon":this.gridIconTemplate=t.template;break}}),this.updateItemTemplate()}updateItemTemplate(){switch(this.layout){case"list":this.itemTemplate=this.listTemplate;break;case"grid":this.itemTemplate=this.gridTemplate;break}}changeLayout(t){this._layout=t,this.onChangeLayout.emit({layout:this.layout}),this.updateItemTemplate(),this.cd.markForCheck()}updateTotalRecords(){this.totalRecords=this.lazy?this.totalRecords:this._value?this._value.length:0}paginate(t){this.first=t.first,this.rows=t.rows,this.lazy&&this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.onPage.emit({first:this.first,rows:this.rows})}sort(){this.first=0,this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.value.sort((t,o)=>{let i=d.resolveFieldData(t,this.sortField),r=d.resolveFieldData(o,this.sortField),s=null;return i==null&&r!=null?s=-1:i!=null&&r==null?s=1:i==null&&r==null?s=0:typeof i=="string"&&typeof r=="string"?s=i.localeCompare(r):s=i<r?-1:i>r?1:0,this.sortOrder*s}),this.hasFilter()&&this.filter(this.filterValue)),this.onSort.emit({sortField:this.sortField,sortOrder:this.sortOrder})}isEmpty(){let t=this.filteredValue||this.value;return t==null||t.length==0}createLazyLoadMetadata(){return{first:this.first,rows:this.rows,sortField:this.sortField,sortOrder:this.sortOrder}}getBlockableElement(){return this.el.nativeElement.children[0]}filter(t,o="contains"){if(this.filterValue=t,this.value&&this.value.length){let i=this.filterBy.split(",");this.filteredValue=this.filterService.filter(this.value,i,t,o,this.filterLocale),this.filteredValue.length===this.value.length&&(this.filteredValue=null),this.paginator&&(this.first=0,this.totalRecords=this.filteredValue?this.filteredValue.length:this.value?this.value.length:0),this.cd.markForCheck()}}hasFilter(){return this.filterValue&&this.filterValue.trim().length>0}ngOnDestroy(){this.translationSubscription&&this.translationSubscription.unsubscribe()}static ɵfac=function(o){return new(o||a)(e.ɵɵdirectiveInject(e.ElementRef),e.ɵɵdirectiveInject(e.ChangeDetectorRef),e.ɵɵdirectiveInject(g.FilterService),e.ɵɵdirectiveInject(g.PrimeNGConfig))};static ɵcmp=e.ɵɵdefineComponent({type:a,selectors:[["p-dataView"]],contentQueries:function(o,i,r){if(o&1&&(e.ɵɵcontentQuery(r,T,5),e.ɵɵcontentQuery(r,v,5),e.ɵɵcontentQuery(r,L,4)),o&2){let s;e.ɵɵqueryRefresh(s=e.ɵɵloadQuery())&&(i.header=s.first),e.ɵɵqueryRefresh(s=e.ɵɵloadQuery())&&(i.footer=s.first),e.ɵɵqueryRefresh(s=e.ɵɵloadQuery())&&(i.templates=s)}},hostAttrs:[1,"p-element"],inputs:{paginator:"paginator",rows:"rows",totalRecords:"totalRecords",pageLinks:"pageLinks",rowsPerPageOptions:"rowsPerPageOptions",paginatorPosition:"paginatorPosition",paginatorStyleClass:"paginatorStyleClass",alwaysShowPaginator:"alwaysShowPaginator",paginatorDropdownAppendTo:"paginatorDropdownAppendTo",paginatorDropdownScrollHeight:"paginatorDropdownScrollHeight",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:"showCurrentPageReport",showJumpToPageDropdown:"showJumpToPageDropdown",showFirstLastIcon:"showFirstLastIcon",showPageLinks:"showPageLinks",lazy:"lazy",lazyLoadOnInit:"lazyLoadOnInit",emptyMessage:"emptyMessage",style:"style",styleClass:"styleClass",gridStyleClass:"gridStyleClass",trackBy:"trackBy",filterBy:"filterBy",filterLocale:"filterLocale",loading:"loading",loadingIcon:"loadingIcon",first:"first",sortField:"sortField",sortOrder:"sortOrder",value:"value",layout:"layout"},outputs:{onLazyLoad:"onLazyLoad",onPage:"onPage",onSort:"onSort",onChangeLayout:"onChangeLayout"},features:[e.ɵɵNgOnChangesFeature],ngContentSelectors:J,decls:10,vars:21,consts:[[3,"ngClass","ngStyle"],["class","p-dataview-loading",4,"ngIf"],["class","p-dataview-header",4,"ngIf"],["styleClass","p-paginator-top",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","dropdownAppendTo","dropdownScrollHeight","templateLeft","templateRight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","styleClass","onPageChange",4,"ngIf"],[1,"p-dataview-content"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngIf"],["styleClass","p-paginator-bottom",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","dropdownAppendTo","dropdownScrollHeight","templateLeft","templateRight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","styleClass","onPageChange",4,"ngIf"],["class","p-dataview-footer",4,"ngIf"],[1,"p-dataview-loading"],[1,"p-dataview-loading-overlay","p-component-overlay"],[3,"class",4,"ngIf"],[3,"spin","styleClass",4,"ngIf"],[4,"ngTemplateOutlet"],[3,"spin","styleClass"],[1,"p-dataview-header"],["styleClass","p-paginator-top",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","dropdownAppendTo","dropdownScrollHeight","templateLeft","templateRight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","styleClass","onPageChange"],[1,"p-dataview-emptymessage"],[4,"ngIf","ngIfElse"],["empty",""],["styleClass","p-paginator-bottom",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","dropdownAppendTo","dropdownScrollHeight","templateLeft","templateRight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","styleClass","onPageChange"],[1,"p-dataview-footer"]],template:function(o,i){o&1&&(e.ɵɵprojectionDef(j),e.ɵɵelementStart(0,"div",0),e.ɵɵtemplate(1,O,4,2,"div",1)(2,R,3,1,"div",2)(3,b,1,17,"p-paginator",3),e.ɵɵelementStart(4,"div",4),e.ɵɵtemplate(5,F,1,0,"ng-container",5),e.ɵɵpipe(6,"slice"),e.ɵɵtemplate(7,E,4,3,"div",6),e.ɵɵelementEnd(),e.ɵɵtemplate(8,x,1,17,"p-paginator",7)(9,B,3,1,"div",8),e.ɵɵelementEnd()),o&2&&(e.ɵɵclassMap(i.styleClass),e.ɵɵproperty("ngClass",e.ɵɵpureFunction2(16,H,i.layout==="list",i.layout==="grid"))("ngStyle",i.style),e.ɵɵadvance(1),e.ɵɵproperty("ngIf",i.loading),e.ɵɵadvance(1),e.ɵɵproperty("ngIf",i.header||i.headerTemplate),e.ɵɵadvance(1),e.ɵɵproperty("ngIf",i.paginator&&(i.paginatorPosition==="top"||i.paginatorPosition=="both")),e.ɵɵadvance(2),e.ɵɵproperty("ngTemplateOutlet",i.itemTemplate)("ngTemplateOutletContext",e.ɵɵpureFunction1(19,N,i.paginator?e.ɵɵpipeBind3(6,12,i.filteredValue||i.value,i.lazy?0:i.first,(i.lazy?0:i.first)+i.rows):i.filteredValue||i.value)),e.ɵɵadvance(2),e.ɵɵproperty("ngIf",i.isEmpty()&&!i.loading),e.ɵɵadvance(1),e.ɵɵproperty("ngIf",i.paginator&&(i.paginatorPosition==="bottom"||i.paginatorPosition=="both")),e.ɵɵadvance(1),e.ɵɵproperty("ngIf",i.footer||i.footerTemplate))},dependencies:()=>[l.NgClass,l.NgIf,l.NgTemplateOutlet,l.NgStyle,u.Paginator,h,l.SlicePipe],styles:[`@layer primeng{.p-dataview{position:relative}.p-dataview .p-dataview-loading-overlay{position:absolute;display:flex;align-items:center;justify-content:center;z-index:2}}
`],encapsulation:2,changeDetection:0})}return a})(),me=(()=>{class a{dv;style;styleClass;constructor(t){this.dv=t}changeLayout(t,o){this.dv.changeLayout(o),t.preventDefault()}static ɵfac=function(o){return new(o||a)(e.ɵɵdirectiveInject($))};static ɵcmp=e.ɵɵdefineComponent({type:a,selectors:[["p-dataViewLayoutOptions"]],hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass"},decls:7,vars:14,consts:[[3,"ngClass","ngStyle"],["type","button",1,"p-button","p-button-icon-only",3,"ngClass","click","keydown.enter"],[4,"ngIf"],[4,"ngTemplateOutlet"]],template:function(o,i){o&1&&(e.ɵɵelementStart(0,"div",0)(1,"button",1),e.ɵɵlistener("click",function(s){return i.changeLayout(s,"list")})("keydown.enter",function(s){return i.changeLayout(s,"list")}),e.ɵɵtemplate(2,Q,1,0,"BarsIcon",2)(3,G,1,0,null,3),e.ɵɵelementEnd(),e.ɵɵelementStart(4,"button",1),e.ɵɵlistener("click",function(s){return i.changeLayout(s,"grid")})("keydown.enter",function(s){return i.changeLayout(s,"grid")}),e.ɵɵtemplate(5,K,1,0,"ThLargeIcon",2)(6,Y,1,0,null,3),e.ɵɵelementEnd()()),o&2&&(e.ɵɵclassMap(i.styleClass),e.ɵɵproperty("ngClass","p-dataview-layout-options p-selectbutton p-buttonset")("ngStyle",i.style),e.ɵɵadvance(1),e.ɵɵproperty("ngClass",e.ɵɵpureFunction1(10,m,i.dv.layout==="list")),e.ɵɵadvance(1),e.ɵɵproperty("ngIf",!i.dv.listIconTemplate),e.ɵɵadvance(1),e.ɵɵproperty("ngTemplateOutlet",i.dv.listIconTemplate),e.ɵɵadvance(1),e.ɵɵproperty("ngClass",e.ɵɵpureFunction1(12,m,i.dv.layout==="grid")),e.ɵɵadvance(1),e.ɵɵproperty("ngIf",!i.dv.gridIconTemplate),e.ɵɵadvance(1),e.ɵɵproperty("ngTemplateOutlet",i.dv.gridIconTemplate))},dependencies:()=>[l.NgClass,l.NgIf,l.NgTemplateOutlet,l.NgStyle,w,f],encapsulation:2})}return a})(),ue=(()=>{class a{static ɵfac=function(o){return new(o||a)};static ɵmod=e.ɵɵdefineNgModule({type:a});static ɵinj=e.ɵɵdefineInjector({imports:[y,c,C,h,w,f,c]})}return a})();export{$ as DataView,me as DataViewLayoutOptions,ue as DataViewModule};