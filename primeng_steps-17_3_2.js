import*as l from"@angular/common";import{CommonModule as f}from"@angular/common";import*as e from"@angular/core";import{EventEmitter as g}from"@angular/core";import*as c from"@angular/router";import{RouterModule as u}from"@angular/router";import{DomHandler as d}from"primeng/dom";import*as x from"primeng/tooltip";import{TooltipModule as _}from"primeng/tooltip";var v=["list"];function y(a,o){if(a&1&&(e.ɵɵelementStart(0,"span",12),e.ɵɵtext(1),e.ɵɵelementEnd()),a&2){let t=e.ɵɵnextContext(2).$implicit;e.ɵɵadvance(1),e.ɵɵtextInterpolate(t.label)}}function h(a,o){if(a&1&&e.ɵɵelement(0,"span",13),a&2){let t=e.ɵɵnextContext(2).$implicit;e.ɵɵproperty("innerHTML",t.label,e.ɵɵsanitizeHtml)}}var I=()=>({exact:!1});function k(a,o){if(a&1){let t=e.ɵɵgetCurrentView();e.ɵɵelementStart(0,"a",8),e.ɵɵlistener("click",function(n){e.ɵɵrestoreView(t);let r=e.ɵɵnextContext(),s=r.$implicit,p=r.index,m=e.ɵɵnextContext();return e.ɵɵresetView(m.onItemClick(n,s,p))})("keydown",function(n){e.ɵɵrestoreView(t);let r=e.ɵɵnextContext(),s=r.$implicit,p=r.index,m=e.ɵɵnextContext();return e.ɵɵresetView(m.onItemKeydown(n,s,p))}),e.ɵɵelementStart(1,"span",9),e.ɵɵtext(2),e.ɵɵelementEnd(),e.ɵɵtemplate(3,y,2,1,"span",10)(4,h,1,1,"ng-template",null,11,e.ɵɵtemplateRefExtractor),e.ɵɵelementEnd()}if(a&2){let t=e.ɵɵreference(5),i=e.ɵɵnextContext(),n=i.$implicit,r=i.index,s=e.ɵɵnextContext();e.ɵɵproperty("routerLink",n.routerLink)("queryParams",n.queryParams)("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",n.routerLinkActiveOptions||e.ɵɵpureFunction0(19,I))("target",n.target)("fragment",n.fragment)("queryParamsHandling",n.queryParamsHandling)("preserveFragment",n.preserveFragment)("skipLocationChange",n.skipLocationChange)("replaceUrl",n.replaceUrl)("state",n.state)("ariaCurrentWhenActive",s.exact?"step":void 0),e.ɵɵattribute("tabindex",s.getItemTabIndex(n,r))("aria-selected",r===s.activeIndex)("aria-expanded",r===s.activeIndex)("aria-disabled",n.disabled||s.readonly&&r!==s.activeIndex),e.ɵɵadvance(2),e.ɵɵtextInterpolate(r+1),e.ɵɵadvance(1),e.ɵɵproperty("ngIf",n.escape!==!1)("ngIfElse",t)}}function b(a,o){if(a&1&&(e.ɵɵelementStart(0,"span",12),e.ɵɵtext(1),e.ɵɵelementEnd()),a&2){let t=e.ɵɵnextContext(2).$implicit;e.ɵɵadvance(1),e.ɵɵtextInterpolate(t.label)}}function C(a,o){if(a&1&&e.ɵɵelement(0,"span",13),a&2){let t=e.ɵɵnextContext(2).$implicit;e.ɵɵproperty("innerHTML",t.label,e.ɵɵsanitizeHtml)}}function w(a,o){if(a&1){let t=e.ɵɵgetCurrentView();e.ɵɵelementStart(0,"a",14),e.ɵɵlistener("click",function(n){e.ɵɵrestoreView(t);let r=e.ɵɵnextContext(),s=r.$implicit,p=r.index,m=e.ɵɵnextContext();return e.ɵɵresetView(m.onItemClick(n,s,p))})("keydown",function(n){e.ɵɵrestoreView(t);let r=e.ɵɵnextContext(),s=r.$implicit,p=r.index,m=e.ɵɵnextContext();return e.ɵɵresetView(m.onItemKeydown(n,s,p))}),e.ɵɵelementStart(1,"span",9),e.ɵɵtext(2),e.ɵɵelementEnd(),e.ɵɵtemplate(3,b,2,1,"span",10)(4,C,1,1,"ng-template",null,15,e.ɵɵtemplateRefExtractor),e.ɵɵelementEnd()}if(a&2){let t=e.ɵɵreference(5),i=e.ɵɵnextContext(),n=i.$implicit,r=i.index,s=e.ɵɵnextContext();e.ɵɵproperty("target",n.target)("ariaCurrentWhenActive",s.exact&&(!n.disabled||s.readonly)?"step":void 0),e.ɵɵattribute("href",n.url,e.ɵɵsanitizeUrl)("tabindex",s.getItemTabIndex(n,r))("aria-selected",r===s.activeIndex)("aria-expanded",r===s.activeIndex)("aria-disabled",n.disabled||s.readonly&&r!==s.activeIndex),e.ɵɵadvance(2),e.ɵɵtextInterpolate(r+1),e.ɵɵadvance(1),e.ɵɵproperty("ngIf",n.escape!==!1)("ngIfElse",t)}}var T=(a,o)=>({"p-highlight p-steps-current":a,"p-disabled":o});function L(a,o){if(a&1&&(e.ɵɵelementStart(0,"li",4,5),e.ɵɵtemplate(2,k,6,20,"a",6)(3,w,6,10,"ng-template",null,7,e.ɵɵtemplateRefExtractor),e.ɵɵelementEnd()),a&2){let t=o.$implicit,i=o.index,n=e.ɵɵreference(4),r=e.ɵɵnextContext();e.ɵɵclassMap(t.styleClass),e.ɵɵproperty("ngStyle",t.style)("tooltipOptions",t.tooltipOptions)("ngClass",e.ɵɵpureFunction2(10,T,r.isActive(t,i),t.disabled||r.readonly&&!r.isActive(t,i))),e.ɵɵattribute("aria-current",r.isActive(t,i)?"step":void 0)("id",t.id)("data-pc-section","menuitem"),e.ɵɵadvance(2),e.ɵɵproperty("ngIf",r.isClickableRouterLink(t))("ngIfElse",n)}}var S=a=>({"p-steps p-component":!0,"p-readonly":a}),q=(()=>{class a{router;route;cd;activeIndex=0;model;readonly=!0;style;styleClass;exact=!0;activeIndexChange=new g;listViewChild;constructor(t,i,n){this.router=t,this.route=i,this.cd=n}subscription;ngOnInit(){this.subscription=this.router.events.subscribe(()=>this.cd.markForCheck())}onItemClick(t,i,n){if(this.readonly||i.disabled){t.preventDefault();return}this.activeIndexChange.emit(n),!i.url&&!i.routerLink&&t.preventDefault(),i.command&&i.command({originalEvent:t,item:i,index:n})}onItemKeydown(t,i,n){switch(t.code){case"ArrowRight":{this.navigateToNextItem(t.target),t.preventDefault();break}case"ArrowLeft":{this.navigateToPrevItem(t.target),t.preventDefault();break}case"Home":{this.navigateToFirstItem(t.target),t.preventDefault();break}case"End":{this.navigateToLastItem(t.target),t.preventDefault();break}case"Tab":if(n!==this.activeIndex){let r=d.find(this.listViewChild.nativeElement,"[data-pc-section=\"menuitem\"]");r[n].children[0].tabIndex="-1",r[this.activeIndex].children[0].tabIndex="0"}break;case"Enter":case"Space":{this.onItemClick(t,i,n),t.preventDefault();break}default:break}}navigateToNextItem(t){let i=this.findNextItem(t);i&&this.setFocusToMenuitem(t,i)}navigateToPrevItem(t){let i=this.findPrevItem(t);i&&this.setFocusToMenuitem(t,i)}navigateToFirstItem(t){let i=this.findFirstItem();i&&this.setFocusToMenuitem(t,i)}navigateToLastItem(t){let i=this.findLastItem();i&&this.setFocusToMenuitem(t,i)}findNextItem(t){let i=t.parentElement.nextElementSibling;return i?i.children[0]:null}findPrevItem(t){let i=t.parentElement.previousElementSibling;return i?i.children[0]:null}findFirstItem(){let t=d.findSingle(this.listViewChild.nativeElement,"[data-pc-section=\"menuitem\"]");return t?t.children[0]:null}findLastItem(){let t=d.find(this.listViewChild.nativeElement,"[data-pc-section=\"menuitem\"]");return t?t[t.length-1].children[0]:null}setFocusToMenuitem(t,i){t.tabIndex="-1",i.tabIndex="0",i.focus()}isClickableRouterLink(t){return t.routerLink&&!this.readonly&&!t.disabled}isActive(t,i){if(t.routerLink){let n=Array.isArray(t.routerLink)?t.routerLink:[t.routerLink];return this.router.isActive(this.router.createUrlTree(n,{relativeTo:this.route}).toString(),!1)}return i===this.activeIndex}getItemTabIndex(t,i){return t.disabled?"-1":!t.disabled&&this.activeIndex===i?t.tabindex||"0":t.tabindex??"-1"}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}static ɵfac=function(i){return new(i||a)(e.ɵɵdirectiveInject(c.Router),e.ɵɵdirectiveInject(c.ActivatedRoute),e.ɵɵdirectiveInject(e.ChangeDetectorRef))};static ɵcmp=e.ɵɵdefineComponent({type:a,selectors:[["p-steps"]],viewQuery:function(i,n){if(i&1&&e.ɵɵviewQuery(v,5),i&2){let r;e.ɵɵqueryRefresh(r=e.ɵɵloadQuery())&&(n.listViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{activeIndex:"activeIndex",model:"model",readonly:"readonly",style:"style",styleClass:"styleClass",exact:"exact"},outputs:{activeIndexChange:"activeIndexChange"},decls:4,vars:9,consts:[[3,"ngClass","ngStyle"],["role","tablist"],["list",""],["class","p-steps-item","role","presentation","pTooltip","",3,"ngStyle","class","tooltipOptions","ngClass",4,"ngFor","ngForOf"],["role","presentation","pTooltip","",1,"p-steps-item",3,"ngStyle","tooltipOptions","ngClass"],["menuitem",""],["role","tab","class","p-menuitem-link",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","ariaCurrentWhenActive","click","keydown",4,"ngIf","ngIfElse"],["elseBlock",""],["role","tab",1,"p-menuitem-link",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","ariaCurrentWhenActive","click","keydown"],[1,"p-steps-number"],["class","p-steps-title",4,"ngIf","ngIfElse"],["htmlLabel",""],[1,"p-steps-title"],[1,"p-steps-title",3,"innerHTML"],["role","tab",1,"p-menuitem-link",3,"target","ariaCurrentWhenActive","click","keydown"],["htmlRouteLabel",""]],template:function(i,n){i&1&&(e.ɵɵelementStart(0,"nav",0)(1,"ul",1,2),e.ɵɵtemplate(3,L,5,13,"li",3),e.ɵɵelementEnd()()),i&2&&(e.ɵɵclassMap(n.styleClass),e.ɵɵproperty("ngClass",e.ɵɵpureFunction1(7,S,n.readonly))("ngStyle",n.style),e.ɵɵattribute("data-pc-name","steps"),e.ɵɵadvance(1),e.ɵɵattribute("data-pc-section","menu"),e.ɵɵadvance(2),e.ɵɵproperty("ngForOf",n.model))},dependencies:[l.NgClass,l.NgForOf,l.NgIf,l.NgStyle,c.RouterLink,c.RouterLinkActive,x.Tooltip],styles:[`@layer primeng{.p-steps{position:relative}.p-steps ul{padding:0;margin:0;list-style-type:none;display:flex}.p-steps-item{position:relative;display:flex;justify-content:center;flex:1 1 auto}.p-steps-item .p-menuitem-link{display:inline-flex;flex-direction:column;align-items:center;overflow:hidden;text-decoration:none}.p-steps.p-steps-readonly .p-steps-item{cursor:auto}.p-steps-item.p-steps-current .p-menuitem-link{cursor:default}.p-steps-title{white-space:nowrap}.p-steps-number{display:flex;align-items:center;justify-content:center}.p-steps-title{display:block}}
`],encapsulation:2,changeDetection:0})}return a})(),j=(()=>{class a{static ɵfac=function(i){return new(i||a)};static ɵmod=e.ɵɵdefineNgModule({type:a});static ɵinj=e.ɵɵdefineInjector({imports:[f,u,_,u,_]})}return a})();export{q as Steps,j as StepsModule};