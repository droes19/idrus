var $=Object.defineProperty,H=Object.defineProperties;var z=Object.getOwnPropertyDescriptors;var T=Object.getOwnPropertySymbols;var B=Object.prototype.hasOwnProperty,G=Object.prototype.propertyIsEnumerable;var S=(s,r,e)=>r in s?$(s,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[r]=e,I=(s,r)=>{for(var e in r||={})B.call(r,e)&&S(s,e,r[e]);if(T)for(var e of T(r))G.call(r,e)&&S(s,e,r[e]);return s},f=(s,r)=>H(s,z(r));import{style as b,transition as y,trigger as A,animate as L}from"@angular/animations";import*as u from"@angular/common";import{DOCUMENT as F,isPlatformBrowser as w,CommonModule as N}from"@angular/common";import*as t from"@angular/core";import{EventEmitter as h,forwardRef as Z,signal as x,effect as j,PLATFORM_ID as Q}from"@angular/core";import*as v from"@angular/router";import{RouterModule as M}from"@angular/router";import*as C from"primeng/api";import{PrimeTemplate as q,SharedModule as P}from"primeng/api";import{DomHandler as c}from"primeng/dom";import{AngleRightIcon as K}from"primeng/icons/angleright";import*as O from"primeng/ripple";import{RippleModule as U}from"primeng/ripple";import*as D from"primeng/tooltip";import{TooltipModule as V}from"primeng/tooltip";import{ObjectUtils as m,UniqueComponentId as W,ZIndexUtils as k}from"primeng/utils";var X=["sublist"];function Y(s,r){if(s&1&&t.ɵɵelement(0,"li",6),s&2){let e=t.ɵɵnextContext().$implicit,i=t.ɵɵnextContext(2);t.ɵɵstyleMap(i.getItemProp(e,"style")),t.ɵɵproperty("ngClass",i.getSeparatorItemClass(e)),t.ɵɵattribute("id",i.getItemId(e))("data-pc-section","separator")}}function J(s,r){if(s&1&&t.ɵɵelement(0,"span",19),s&2){let e=t.ɵɵnextContext(4).$implicit,i=t.ɵɵnextContext(2);t.ɵɵproperty("ngClass",i.getItemProp(e,"icon"))("ngStyle",i.getItemProp(e,"iconStyle")),t.ɵɵattribute("data-pc-section","icon")("aria-hidden",!0)("tabindex",-1)}}function ee(s,r){if(s&1&&(t.ɵɵelementStart(0,"span",20),t.ɵɵtext(1),t.ɵɵelementEnd()),s&2){let e=t.ɵɵnextContext(4).$implicit,i=t.ɵɵnextContext(2);t.ɵɵattribute("data-pc-section","label"),t.ɵɵadvance(1),t.ɵɵtextInterpolate1(" ",i.getItemLabel(e)," ")}}function te(s,r){if(s&1&&t.ɵɵelement(0,"span",21),s&2){let e=t.ɵɵnextContext(4).$implicit,i=t.ɵɵnextContext(2);t.ɵɵproperty("innerHTML",i.getItemLabel(e),t.ɵɵsanitizeHtml),t.ɵɵattribute("data-pc-section","label")}}function ie(s,r){if(s&1&&(t.ɵɵelementStart(0,"span",22),t.ɵɵtext(1),t.ɵɵelementEnd()),s&2){let e=t.ɵɵnextContext(4).$implicit,i=t.ɵɵnextContext(2);t.ɵɵproperty("ngClass",i.getItemProp(e,"badgeStyleClass")),t.ɵɵadvance(1),t.ɵɵtextInterpolate(i.getItemProp(e,"badge"))}}function ne(s,r){s&1&&t.ɵɵelement(0,"AngleRightIcon",25),s&2&&(t.ɵɵproperty("styleClass","p-submenu-icon"),t.ɵɵattribute("data-pc-section","submenuicon")("aria-hidden",!0))}function se(s,r){}function oe(s,r){s&1&&t.ɵɵtemplate(0,se,0,0,"ng-template"),s&2&&t.ɵɵproperty("data-pc-section","submenuicon")("aria-hidden",!0)}function re(s,r){if(s&1&&(t.ɵɵelementContainerStart(0),t.ɵɵtemplate(1,ne,1,3,"AngleRightIcon",23)(2,oe,1,2,null,24),t.ɵɵelementContainerEnd()),s&2){let e=t.ɵɵnextContext(6);t.ɵɵadvance(1),t.ɵɵproperty("ngIf",!e.contextMenu.submenuIconTemplate),t.ɵɵadvance(1),t.ɵɵproperty("ngTemplateOutlet",e.contextMenu.submenuIconTemplate)}}var R=s=>({"p-menuitem-link":!0,"p-disabled":s});function ae(s,r){if(s&1&&(t.ɵɵelementStart(0,"a",14),t.ɵɵtemplate(1,J,1,5,"span",15)(2,ee,2,2,"span",16)(3,te,1,2,"ng-template",null,17,t.ɵɵtemplateRefExtractor)(5,ie,2,2,"span",18)(6,re,3,2,"ng-container",10),t.ɵɵelementEnd()),s&2){let e=t.ɵɵreference(4),i=t.ɵɵnextContext(3).$implicit,n=t.ɵɵnextContext(2);t.ɵɵproperty("target",n.getItemProp(i,"target"))("ngClass",t.ɵɵpureFunction1(12,R,n.getItemProp(i,"disabled"))),t.ɵɵattribute("href",n.getItemProp(i,"url"),t.ɵɵsanitizeUrl)("aria-hidden",!0)("data-automationid",n.getItemProp(i,"automationId"))("data-pc-section","action")("tabindex",-1),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",n.getItemProp(i,"icon")),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",n.getItemProp(i,"escape"))("ngIfElse",e),t.ɵɵadvance(3),t.ɵɵproperty("ngIf",n.getItemProp(i,"badge")),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",n.isItemGroup(i))}}function le(s,r){if(s&1&&t.ɵɵelement(0,"span",19),s&2){let e=t.ɵɵnextContext(4).$implicit,i=t.ɵɵnextContext(2);t.ɵɵproperty("ngClass",i.getItemProp(e,"icon"))("ngStyle",i.getItemProp(e,"iconStyle")),t.ɵɵattribute("data-pc-section","icon")("aria-hidden",!0)("tabindex",-1)}}function ce(s,r){if(s&1&&(t.ɵɵelementStart(0,"span",20),t.ɵɵtext(1),t.ɵɵelementEnd()),s&2){let e=t.ɵɵnextContext(4).$implicit,i=t.ɵɵnextContext(2);t.ɵɵattribute("data-pc-section","label"),t.ɵɵadvance(1),t.ɵɵtextInterpolate1(" ",i.getItemLabel(e)," ")}}function me(s,r){if(s&1&&t.ɵɵelement(0,"span",21),s&2){let e=t.ɵɵnextContext(4).$implicit,i=t.ɵɵnextContext(2);t.ɵɵproperty("innerHTML",i.getItemLabel(e),t.ɵɵsanitizeHtml),t.ɵɵattribute("data-pc-section","label")}}function ue(s,r){if(s&1&&(t.ɵɵelementStart(0,"span",22),t.ɵɵtext(1),t.ɵɵelementEnd()),s&2){let e=t.ɵɵnextContext(4).$implicit,i=t.ɵɵnextContext(2);t.ɵɵproperty("ngClass",i.getItemProp(e,"badgeStyleClass")),t.ɵɵadvance(1),t.ɵɵtextInterpolate(i.getItemProp(e,"badge"))}}function de(s,r){s&1&&t.ɵɵelement(0,"AngleRightIcon",25),s&2&&(t.ɵɵproperty("styleClass","p-submenu-icon"),t.ɵɵattribute("data-pc-section","submenuicon")("aria-hidden",!0))}function pe(s,r){}function _e(s,r){s&1&&t.ɵɵtemplate(0,pe,0,0,"ng-template"),s&2&&t.ɵɵproperty("data-pc-section","submenuicon")("aria-hidden",!0)}function he(s,r){if(s&1&&(t.ɵɵelementContainerStart(0),t.ɵɵtemplate(1,de,1,3,"AngleRightIcon",23)(2,_e,1,2,null,24),t.ɵɵelementContainerEnd()),s&2){let e=t.ɵɵnextContext(6);t.ɵɵadvance(1),t.ɵɵproperty("ngIf",!e.contextMenu.submenuIconTemplate),t.ɵɵadvance(1),t.ɵɵproperty("ngTemplateOutlet",e.contextMenu.submenuIconTemplate)}}var Ie=()=>({exact:!1});function fe(s,r){if(s&1&&(t.ɵɵelementStart(0,"a",26),t.ɵɵtemplate(1,le,1,5,"span",15)(2,ce,2,2,"span",16)(3,me,1,2,"ng-template",null,17,t.ɵɵtemplateRefExtractor)(5,ue,2,2,"span",18)(6,he,3,2,"ng-container",10),t.ɵɵelementEnd()),s&2){let e=t.ɵɵreference(4),i=t.ɵɵnextContext(3).$implicit,n=t.ɵɵnextContext(2);t.ɵɵproperty("routerLink",n.getItemProp(i,"routerLink"))("queryParams",n.getItemProp(i,"queryParams"))("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",n.getItemProp(i,"routerLinkActiveOptions")||t.ɵɵpureFunction0(21,Ie))("target",n.getItemProp(i,"target"))("ngClass",t.ɵɵpureFunction1(22,R,n.getItemProp(i,"disabled")))("fragment",n.getItemProp(i,"fragment"))("queryParamsHandling",n.getItemProp(i,"queryParamsHandling"))("preserveFragment",n.getItemProp(i,"preserveFragment"))("skipLocationChange",n.getItemProp(i,"skipLocationChange"))("replaceUrl",n.getItemProp(i,"replaceUrl"))("state",n.getItemProp(i,"state")),t.ɵɵattribute("data-automationid",n.getItemProp(i,"automationId"))("tabindex",-1)("aria-hidden",!0)("data-pc-section","action"),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",n.getItemProp(i,"icon")),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",n.getItemProp(i,"escape"))("ngIfElse",e),t.ɵɵadvance(3),t.ɵɵproperty("ngIf",n.getItemProp(i,"badge")),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",n.isItemGroup(i))}}function ge(s,r){if(s&1&&(t.ɵɵelementContainerStart(0),t.ɵɵtemplate(1,ae,7,14,"a",12)(2,fe,7,24,"a",13),t.ɵɵelementContainerEnd()),s&2){let e=t.ɵɵnextContext(2).$implicit,i=t.ɵɵnextContext(2);t.ɵɵadvance(1),t.ɵɵproperty("ngIf",!i.getItemProp(e,"routerLink")),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",i.getItemProp(e,"routerLink"))}}function xe(s,r){}function be(s,r){s&1&&t.ɵɵtemplate(0,xe,0,0,"ng-template")}var ye=s=>({$implicit:s});function ve(s,r){if(s&1&&(t.ɵɵelementContainerStart(0),t.ɵɵtemplate(1,be,1,0,null,27),t.ɵɵelementContainerEnd()),s&2){let e=t.ɵɵnextContext(2).$implicit,i=t.ɵɵnextContext(2);t.ɵɵadvance(1),t.ɵɵproperty("ngTemplateOutlet",i.itemTemplate)("ngTemplateOutletContext",t.ɵɵpureFunction1(2,ye,e.item))}}function Ce(s,r){if(s&1){let e=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"p-contextMenuSub",28),t.ɵɵlistener("itemClick",function(n){t.ɵɵrestoreView(e);let o=t.ɵɵnextContext(4);return t.ɵɵresetView(o.itemClick.emit(n))})("itemMouseEnter",function(n){t.ɵɵrestoreView(e);let o=t.ɵɵnextContext(4);return t.ɵɵresetView(o.onItemMouseEnter(n))}),t.ɵɵelementEnd()}if(s&2){let e=t.ɵɵnextContext(2).$implicit,i=t.ɵɵnextContext(2);t.ɵɵproperty("items",e.items)("itemTemplate",i.itemTemplate)("menuId",i.menuId)("visible",i.isItemActive(e)&&i.isItemGroup(e))("activeItemPath",i.activeItemPath)("focusedItemId",i.focusedItemId)("level",i.level+1)}}function we(s,r){if(s&1){let e=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"li",7,8)(2,"div",9),t.ɵɵlistener("click",function(n){t.ɵɵrestoreView(e);let o=t.ɵɵnextContext().$implicit,a=t.ɵɵnextContext(2);return t.ɵɵresetView(a.onItemClick(n,o))})("mouseenter",function(n){t.ɵɵrestoreView(e);let o=t.ɵɵnextContext().$implicit,a=t.ɵɵnextContext(2);return t.ɵɵresetView(a.onItemMouseEnter({$event:n,processedItem:o}))}),t.ɵɵtemplate(3,ge,3,2,"ng-container",10)(4,ve,2,4,"ng-container",10),t.ɵɵelementEnd(),t.ɵɵtemplate(5,Ce,1,7,"p-contextMenuSub",11),t.ɵɵelementEnd()}if(s&2){let e=t.ɵɵnextContext(),i=e.$implicit,n=e.index,o=t.ɵɵnextContext(2);t.ɵɵclassMap(o.getItemProp(i,"styleClass")),t.ɵɵproperty("ngStyle",o.getItemProp(i,"style"))("ngClass",o.getItemClass(i))("tooltipOptions",o.getItemProp(i,"tooltipOptions")),t.ɵɵattribute("id",o.getItemId(i))("data-pc-section","menuitem")("data-p-highlight",o.isItemActive(i))("data-p-focused",o.isItemFocused(i))("data-p-disabled",o.isItemDisabled(i))("aria-label",o.getItemLabel(i))("aria-disabled",o.isItemDisabled(i)||void 0)("aria-haspopup",o.isItemGroup(i)&&!o.getItemProp(i,"to")?"menu":void 0)("aria-expanded",o.isItemGroup(i)?o.isItemActive(i):void 0)("aria-level",o.level+1)("aria-setsize",o.getAriaSetSize())("aria-posinset",o.getAriaPosInset(n)),t.ɵɵadvance(2),t.ɵɵattribute("data-pc-section","content"),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",!o.itemTemplate),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",o.itemTemplate),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",o.isItemVisible(i)&&o.isItemGroup(i))}}function Ee(s,r){if(s&1&&t.ɵɵtemplate(0,Y,1,5,"li",4)(1,we,6,21,"li",5),s&2){let e=r.$implicit,i=t.ɵɵnextContext(2);t.ɵɵproperty("ngIf",i.isItemVisible(e)&&i.getItemProp(e,"separator")),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",i.isItemVisible(e)&&!i.getItemProp(e,"separator"))}}var Te=(s,r)=>({"p-submenu-list":s,"p-contextmenu-root-list":r});function Se(s,r){if(s&1){let e=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"ul",1,2),t.ɵɵlistener("@overlayAnimation.start",function(n){t.ɵɵrestoreView(e);let o=t.ɵɵreference(1),a=t.ɵɵnextContext();return t.ɵɵresetView(a.onEnter(n,o))})("keydown",function(n){t.ɵɵrestoreView(e);let o=t.ɵɵnextContext();return t.ɵɵresetView(o.menuKeydown.emit(n))})("focus",function(n){t.ɵɵrestoreView(e);let o=t.ɵɵnextContext();return t.ɵɵresetView(o.menuFocus.emit(n))})("blur",function(n){t.ɵɵrestoreView(e);let o=t.ɵɵnextContext();return t.ɵɵresetView(o.menuBlur.emit(n))}),t.ɵɵtemplate(2,Ee,2,2,"ng-template",3),t.ɵɵelementEnd()}if(s&2){let e=t.ɵɵnextContext();t.ɵɵproperty("ngClass",t.ɵɵpureFunction2(10,Te,!e.root,e.root))("@overlayAnimation",e.visible)("tabindex",e.tabindex),t.ɵɵattribute("id",e.menuId+"_list")("aria-label",e.ariaLabel)("aria-labelledBy",e.ariaLabelledBy)("aria-activedescendant",e.focusedItemId)("aria-orientation","vertical")("data-pc-section","menu"),t.ɵɵadvance(2),t.ɵɵproperty("ngForOf",e.items)}}var Le=["rootmenu"],Me=["container"],Pe=()=>({"p-contextmenu p-component":!0,"p-contextmenu-overlay":!0}),Ve=()=>({value:"visible"});function ke(s,r){if(s&1){let e=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"div",1,2),t.ɵɵlistener("@overlayAnimation.start",function(n){t.ɵɵrestoreView(e);let o=t.ɵɵnextContext();return t.ɵɵresetView(o.onOverlayAnimationStart(n))})("@overlayAnimation.done",function(n){t.ɵɵrestoreView(e);let o=t.ɵɵnextContext();return t.ɵɵresetView(o.onOverlayAnimationEnd(n))}),t.ɵɵelementStart(2,"p-contextMenuSub",3,4),t.ɵɵlistener("itemClick",function(n){t.ɵɵrestoreView(e);let o=t.ɵɵnextContext();return t.ɵɵresetView(o.onItemClick(n))})("menuFocus",function(n){t.ɵɵrestoreView(e);let o=t.ɵɵnextContext();return t.ɵɵresetView(o.onMenuFocus(n))})("menuBlur",function(n){t.ɵɵrestoreView(e);let o=t.ɵɵnextContext();return t.ɵɵresetView(o.onMenuBlur(n))})("menuKeydown",function(n){t.ɵɵrestoreView(e);let o=t.ɵɵnextContext();return t.ɵɵresetView(o.onKeyDown(n))})("itemMouseEnter",function(n){t.ɵɵrestoreView(e);let o=t.ɵɵnextContext();return t.ɵɵresetView(o.onItemMouseEnter(n))}),t.ɵɵelementEnd()()}if(s&2){let e=t.ɵɵnextContext();t.ɵɵclassMap(e.styleClass),t.ɵɵproperty("ngClass",t.ɵɵpureFunction0(20,Pe))("ngStyle",e.style)("@overlayAnimation",t.ɵɵpureFunction0(21,Ve)),t.ɵɵattribute("data-pc-section","root")("data-pc-name","contextmenu")("id",e.id),t.ɵɵadvance(2),t.ɵɵproperty("root",!0)("items",e.processedItems)("itemTemplate",e.itemTemplate)("menuId",e.id)("tabindex",e.disabled?-1:e.tabindex)("ariaLabel",e.ariaLabel)("ariaLabelledBy",e.ariaLabelledBy)("baseZIndex",e.baseZIndex)("autoZIndex",e.autoZIndex)("visible",e.submenuVisible())("focusedItemId",e.focused?e.focusedItemId:void 0)("activeItemPath",e.activeItemPath())}}var Ae=(()=>{class s{document;el;renderer;cd;contextMenu;ref;visible=!1;items;itemTemplate;root=!1;autoZIndex=!0;baseZIndex=0;popup;menuId;ariaLabel;ariaLabelledBy;level=0;focusedItemId;activeItemPath;tabindex=0;itemClick=new h;itemMouseEnter=new h;menuFocus=new h;menuBlur=new h;menuKeydown=new h;sublistViewChild;constructor(e,i,n,o,a,l){this.document=e,this.el=i,this.renderer=n,this.cd=o,this.contextMenu=a,this.ref=l}getItemProp(e,i,n=null){return e&&e.item?m.getItemValue(e.item[i],n):void 0}getItemId(e){return e.item&&e.item?.id?e.item.id:`${this.menuId}_${e.key}`}getItemKey(e){return this.getItemId(e)}getItemClass(e){return f(I({},this.getItemProp(e,"class")),{"p-menuitem":!0,"p-highlight":this.isItemActive(e),"p-menuitem-active":this.isItemActive(e),"p-focus":this.isItemFocused(e),"p-disabled":this.isItemDisabled(e)})}getItemLabel(e){return this.getItemProp(e,"label")}getSeparatorItemClass(e){return f(I({},this.getItemProp(e,"class")),{"p-menuitem-separator":!0})}getAriaSetSize(){return this.items.filter(e=>this.isItemVisible(e)&&!this.getItemProp(e,"separator")).length}getAriaPosInset(e){return e-this.items.slice(0,e).filter(i=>this.isItemVisible(i)&&this.getItemProp(i,"separator")).length+1}isItemVisible(e){return this.getItemProp(e,"visible")!==!1}isItemActive(e){if(this.activeItemPath)return this.activeItemPath.some(i=>i.key===e.key)}isItemDisabled(e){return this.getItemProp(e,"disabled")}isItemFocused(e){return this.focusedItemId===this.getItemId(e)}isItemGroup(e){return m.isNotEmpty(e.items)}onItemMouseEnter(e){let{event:i,processedItem:n}=e;this.itemMouseEnter.emit({originalEvent:i,processedItem:n})}onItemClick(e,i){this.getItemProp(i,"command",{originalEvent:e,item:i.item}),this.itemClick.emit({originalEvent:e,processedItem:i,isFocus:!0})}onEnter(e,i){if(e.fromState==="void"&&e.toState){let n=e.element;this.position(n)}}position(e){let i=e.parentElement.parentElement,n=c.getOffset(e.parentElement.parentElement),o=c.getViewport(),a=e.offsetParent?e.offsetWidth:c.getHiddenElementOuterWidth(e),l=c.getOuterWidth(i.children[0]);e.style.top="0px",parseInt(n.left,10)+l+a>o.width-c.calculateScrollbarWidth()?e.style.left=-1*a+"px":e.style.left=l+"px"}static ɵfac=function(i){return new(i||s)(t.ɵɵdirectiveInject(F),t.ɵɵdirectiveInject(t.ElementRef),t.ɵɵdirectiveInject(t.Renderer2),t.ɵɵdirectiveInject(t.ChangeDetectorRef),t.ɵɵdirectiveInject(Z(()=>Fe)),t.ɵɵdirectiveInject(t.ViewContainerRef))};static ɵcmp=t.ɵɵdefineComponent({type:s,selectors:[["p-contextMenuSub"]],viewQuery:function(i,n){if(i&1&&t.ɵɵviewQuery(X,5),i&2){let o;t.ɵɵqueryRefresh(o=t.ɵɵloadQuery())&&(n.sublistViewChild=o.first)}},hostAttrs:[1,"p-element"],inputs:{visible:"visible",items:"items",itemTemplate:"itemTemplate",root:"root",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",popup:"popup",menuId:"menuId",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",level:"level",focusedItemId:"focusedItemId",activeItemPath:"activeItemPath",tabindex:"tabindex"},outputs:{itemClick:"itemClick",itemMouseEnter:"itemMouseEnter",menuFocus:"menuFocus",menuBlur:"menuBlur",menuKeydown:"menuKeydown"},decls:1,vars:1,consts:[["role","menu",3,"ngClass","tabindex","keydown","focus","blur",4,"ngIf"],["role","menu",3,"ngClass","tabindex","keydown","focus","blur"],["sublist",""],["ngFor","",3,"ngForOf"],["role","separator",3,"style","ngClass",4,"ngIf"],["role","menuitem","pTooltip","",3,"ngStyle","ngClass","class","tooltipOptions",4,"ngIf"],["role","separator",3,"ngClass"],["role","menuitem","pTooltip","",3,"ngStyle","ngClass","tooltipOptions"],["listItem",""],[1,"p-menuitem-content",3,"click","mouseenter"],[4,"ngIf"],[3,"items","itemTemplate","menuId","visible","activeItemPath","focusedItemId","level","itemClick","itemMouseEnter",4,"ngIf"],["pRipple","",3,"target","ngClass",4,"ngIf"],["pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state",4,"ngIf"],["pRipple","",3,"target","ngClass"],["class","p-menuitem-icon",3,"ngClass","ngStyle",4,"ngIf"],["class","p-menuitem-text",4,"ngIf","ngIfElse"],["htmlLabel",""],["class","p-menuitem-badge",3,"ngClass",4,"ngIf"],[1,"p-menuitem-icon",3,"ngClass","ngStyle"],[1,"p-menuitem-text"],[1,"p-menuitem-text",3,"innerHTML"],[1,"p-menuitem-badge",3,"ngClass"],[3,"styleClass",4,"ngIf"],[4,"ngTemplateOutlet"],[3,"styleClass"],["pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"items","itemTemplate","menuId","visible","activeItemPath","focusedItemId","level","itemClick","itemMouseEnter"]],template:function(i,n){i&1&&t.ɵɵtemplate(0,Se,3,13,"ul",0),i&2&&t.ɵɵproperty("ngIf",n.root?!0:n.visible)},dependencies:()=>[u.NgClass,u.NgForOf,u.NgIf,u.NgTemplateOutlet,u.NgStyle,v.RouterLink,v.RouterLinkActive,O.Ripple,D.Tooltip,K,s],encapsulation:2,data:{animation:[A("overlayAnimation",[y(":enter",[b({opacity:0})]),y(":leave",[b({opacity:0})])])]}})}return s})(),Fe=(()=>{class s{document;platformId;el;renderer;cd;config;overlayService;set model(e){this._model=e,this._processedItems=this.createProcessedItems(this._model||[])}get model(){return this._model}triggerEvent="contextmenu";target;global;style;styleClass;appendTo;autoZIndex=!0;baseZIndex=0;id;ariaLabel;ariaLabelledBy;pressDelay=500;onShow=new h;onHide=new h;templates;rootmenu;containerViewChild;submenuIconTemplate;itemTemplate;container;outsideClickListener;resizeListener;triggerEventListener;documentClickListener;documentTriggerListener;touchEndListener;pageX;pageY;visible=x(!1);relativeAlign;window;focused=!1;activeItemPath=x([]);focusedItemInfo=x({index:-1,level:0,parentKey:"",item:null});submenuVisible=x(!1);searchValue="";searchTimeout;_processedItems;_model;pressTimer;get visibleItems(){let e=this.activeItemPath().find(i=>i.key===this.focusedItemInfo().parentKey);return e?e.items:this.processedItems}get processedItems(){return(!this._processedItems||!this._processedItems.length)&&(this._processedItems=this.createProcessedItems(this.model||[])),this._processedItems}get focusedItemId(){let e=this.focusedItemInfo();return e.item&&e.item?.id?e.item.id:e.index!==-1?`${this.id}${m.isNotEmpty(e.parentKey)?"_"+e.parentKey:""}_${e.index}`:null}constructor(e,i,n,o,a,l,d){this.document=e,this.platformId=i,this.el=n,this.renderer=o,this.cd=a,this.config=l,this.overlayService=d,this.window=this.document.defaultView,j(()=>{let p=this.activeItemPath();m.isNotEmpty(p)?this.bindGlobalListeners():this.visible()||this.unbindGlobalListeners()})}ngOnInit(){this.id=this.id||W(),this.bindTriggerEventListener()}isMobile(){return c.isIOS()||c.isAndroid()}bindTriggerEventListener(){w(this.platformId)&&(this.triggerEventListener||(this.isMobile()?this.global?(this.triggerEventListener=this.renderer.listen(this.document,"touchstart",this.onTouchStart.bind(this)),this.touchEndListener=this.renderer.listen(this.document,"touchend",this.onTouchEnd.bind(this))):this.target&&(this.triggerEventListener=this.renderer.listen(this.target,"touchstart",this.onTouchStart.bind(this)),this.touchEndListener=this.renderer.listen(this.target,"touchend",this.onTouchEnd.bind(this))):this.global?this.triggerEventListener=this.renderer.listen(this.document,this.triggerEvent,e=>{this.show(e)}):this.target&&(this.triggerEventListener=this.renderer.listen(this.target,this.triggerEvent,e=>{this.show(e)}))))}bindGlobalListeners(){if(w(this.platformId)){if(!this.documentClickListener){let e=this.el?this.el.nativeElement.ownerDocument:"document";this.documentClickListener=this.renderer.listen(e,"click",i=>{this.containerViewChild.nativeElement.offsetParent&&this.isOutsideClicked(i)&&!i.ctrlKey&&i.button!==2&&this.triggerEvent!=="click"&&this.hide()}),this.documentTriggerListener=this.renderer.listen(e,this.triggerEvent,i=>{this.containerViewChild.nativeElement.offsetParent&&this.isOutsideClicked(i)&&this.hide()})}this.resizeListener||(this.resizeListener=this.renderer.listen(this.document.defaultView,"resize",e=>{this.hide()}))}}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"submenuicon":this.submenuIconTemplate=e.template;break;case"item":this.itemTemplate=e.template;break;default:this.itemTemplate=e.template;break}})}createProcessedItems(e,i=0,n={},o=""){let a=[];return e&&e.forEach((l,d)=>{let p=(o!==""?o+"_":"")+d,_={item:l,index:d,level:i,key:p,parent:n,parentKey:o};_.items=this.createProcessedItems(l.items,i+1,_,p),a.push(_)}),a}getItemProp(e,i){return e?m.getItemValue(e[i]):void 0}getProccessedItemLabel(e){return e?this.getItemLabel(e.item):void 0}getItemLabel(e){return this.getItemProp(e,"label")}isProcessedItemGroup(e){return e&&m.isNotEmpty(e.items)}isSelected(e){return this.activeItemPath().some(i=>i.key===e.key)}isValidSelectedItem(e){return this.isValidItem(e)&&this.isSelected(e)}isValidItem(e){return!!e&&!this.isItemDisabled(e.item)&&!this.isItemSeparator(e.item)}isItemDisabled(e){return this.getItemProp(e,"disabled")}isItemSeparator(e){return this.getItemProp(e,"separator")}isItemMatched(e){return this.isValidItem(e)&&this.getProccessedItemLabel(e).toLocaleLowerCase().startsWith(this.searchValue.toLocaleLowerCase())}isProccessedItemGroup(e){return e&&m.isNotEmpty(e.items)}onItemClick(e){let{processedItem:i}=e,n=this.isProcessedItemGroup(i);if(this.isSelected(i)){let{index:a,key:l,level:d,parentKey:p,item:_}=i;this.activeItemPath.set(this.activeItemPath().filter(g=>l!==g.key&&l.startsWith(g.key))),this.focusedItemInfo.set({index:a,level:d,parentKey:p,item:_}),c.focus(this.rootmenu.sublistViewChild.nativeElement)}else n?this.onItemChange(e):this.hide()}onItemMouseEnter(e){this.onItemChange(e)}onKeyDown(e){let i=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"ArrowLeft":this.onArrowLeftKey(e);break;case"ArrowRight":this.onArrowRightKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"Space":this.onSpaceKey(e);break;case"Enter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"PageDown":case"PageUp":case"Backspace":case"ShiftLeft":case"ShiftRight":break;default:!i&&m.isPrintableCharacter(e.key)&&this.searchItems(e,e.key);break}}onArrowDownKey(e){let i=this.focusedItemInfo().index!==-1?this.findNextItemIndex(this.focusedItemInfo().index):this.findFirstFocusedItemIndex();this.changeFocusedItemIndex(e,i),e.preventDefault()}onArrowRightKey(e){let i=this.visibleItems[this.focusedItemInfo().index];this.isProccessedItemGroup(i)&&(this.onItemChange({originalEvent:e,processedItem:i}),this.focusedItemInfo.set({index:-1,parentKey:i.key,item:i.item}),this.searchValue="",this.onArrowDownKey(e)),e.preventDefault()}onArrowUpKey(e){if(e.altKey){if(this.focusedItemInfo().index!==-1){let i=this.visibleItems[this.focusedItemInfo().index];!this.isProccessedItemGroup(i)&&this.onItemChange({originalEvent:e,processedItem:i})}this.hide(),e.preventDefault()}else{let i=this.focusedItemInfo().index!==-1?this.findPrevItemIndex(this.focusedItemInfo().index):this.findLastFocusedItemIndex();this.changeFocusedItemIndex(e,i),e.preventDefault()}}onArrowLeftKey(e){let i=this.visibleItems[this.focusedItemInfo().index],n=this.activeItemPath().find(l=>l.key===i.parentKey);m.isEmpty(i.parent)||(this.focusedItemInfo.set({index:-1,parentKey:n?n.parentKey:"",item:i.item}),this.searchValue="",this.onArrowDownKey(e));let a=this.activeItemPath().filter(l=>l.parentKey!==this.focusedItemInfo().parentKey);this.activeItemPath.set(a),e.preventDefault()}onHomeKey(e){this.changeFocusedItemIndex(e,this.findFirstItemIndex()),e.preventDefault()}onEndKey(e){this.changeFocusedItemIndex(e,this.findLastItemIndex()),e.preventDefault()}onSpaceKey(e){this.onEnterKey(e)}onEscapeKey(e){this.hide();let i=this.findVisibleItem(this.findFirstFocusedItemIndex()),n=this.focusedItemInfo();this.focusedItemInfo.set(f(I({},n),{index:this.findFirstFocusedItemIndex(),item:i.item})),e.preventDefault()}onTabKey(e){if(this.focusedItemInfo().index!==-1){let i=this.visibleItems[this.focusedItemInfo().index];!this.isProccessedItemGroup(i)&&this.onItemChange({originalEvent:e,processedItem:i})}this.hide()}onEnterKey(e){if(this.focusedItemInfo().index!==-1){let i=c.findSingle(this.rootmenu.el.nativeElement,`li[id="${`${this.focusedItemId}`}"]`),n=i&&c.findSingle(i,"a[data-pc-section=\"action\"]");n?n.click():i&&i.click();let o=this.visibleItems[this.focusedItemInfo().index];if(!this.isProccessedItemGroup(o)){let l=this.focusedItemInfo();this.focusedItemInfo.set(f(I({},l),{index:this.findFirstFocusedItemIndex()}))}}e.preventDefault()}onItemChange(e){let{processedItem:i,isFocus:n}=e;if(m.isEmpty(i))return;let{index:o,key:a,level:l,parentKey:d,items:p}=i,_=m.isNotEmpty(p),g=this.activeItemPath().filter(E=>E.parentKey!==d&&E.parentKey!==a);_&&(g.push(i),this.submenuVisible.set(!0)),this.focusedItemInfo.set({index:o,level:l,parentKey:d,item:i.item}),this.activeItemPath.set(g),n&&c.focus(this.rootmenu.sublistViewChild.nativeElement)}onMenuFocus(e){this.focused=!0;let i=this.focusedItemInfo().index!==-1?this.focusedItemInfo():{index:-1,level:0,parentKey:"",item:null};this.focusedItemInfo.set(i)}onMenuBlur(e){this.focused=!1,this.focusedItemInfo.set({index:-1,level:0,parentKey:"",item:null}),this.searchValue=""}onOverlayAnimationStart(e){switch(e.toState){case"visible":this.container=e.element,this.position(),this.moveOnTop(),this.appendOverlay(),this.bindGlobalListeners(),this.onShow.emit(),c.focus(this.rootmenu.sublistViewChild.nativeElement);break}}onOverlayAnimationEnd(e){switch(e.toState){case"void":this.onOverlayHide();break}}appendOverlay(){this.appendTo&&(this.appendTo==="body"?this.renderer.appendChild(this.document.body,this.containerViewChild.nativeElement):c.appendChild(this.containerViewChild.nativeElement,this.appendTo))}moveOnTop(){this.autoZIndex&&this.containerViewChild&&k.set("menu",this.containerViewChild.nativeElement,this.baseZIndex+this.config.zIndex.menu)}onOverlayHide(){this.unbindGlobalListeners(),this.cd.destroyed||(this.target=null),this.container&&this.autoZIndex&&k.clear(this.container),this.container=null,this.onHide.emit()}onTouchStart(e){this.pressTimer=setTimeout(()=>{this.show(e)},this.pressDelay)}onTouchEnd(){clearTimeout(this.pressTimer)}hide(){this.visible.set(!1),this.activeItemPath.set([]),this.focusedItemInfo.set({index:-1,level:0,parentKey:"",item:null})}toggle(e){this.visible()?this.hide():this.show(e)}show(e){this.activeItemPath.set([]),this.focusedItemInfo.set({index:-1,level:0,parentKey:"",item:null}),this.pageX=e.pageX,this.pageY=e.pageY,this.visible()?this.position():this.visible.set(!0),e.stopPropagation(),e.preventDefault()}position(){let e=this.pageX+1,i=this.pageY+1,n=this.containerViewChild.nativeElement.offsetParent?this.containerViewChild.nativeElement.offsetWidth:c.getHiddenElementOuterWidth(this.containerViewChild.nativeElement),o=this.containerViewChild.nativeElement.offsetParent?this.containerViewChild.nativeElement.offsetHeight:c.getHiddenElementOuterHeight(this.containerViewChild.nativeElement),a=c.getViewport();e+n-this.document.scrollingElement.scrollLeft>a.width&&(e-=n),i+o-this.document.scrollingElement.scrollTop>a.height&&(i-=o),e<this.document.scrollingElement.scrollLeft&&(e=this.document.scrollingElement.scrollLeft),i<this.document.scrollingElement.scrollTop&&(i=this.document.scrollingElement.scrollTop),this.containerViewChild.nativeElement.style.left=e+"px",this.containerViewChild.nativeElement.style.top=i+"px"}searchItems(e,i){this.searchValue=(this.searchValue||"")+i;let n=-1,o=!1;return this.focusedItemInfo().index!==-1?(n=this.visibleItems.slice(this.focusedItemInfo().index).findIndex(a=>this.isItemMatched(a)),n=n===-1?this.visibleItems.slice(0,this.focusedItemInfo().index).findIndex(a=>this.isItemMatched(a)):n+this.focusedItemInfo().index):n=this.visibleItems.findIndex(a=>this.isItemMatched(a)),n!==-1&&(o=!0),n===-1&&this.focusedItemInfo().index===-1&&(n=this.findFirstFocusedItemIndex()),n!==-1&&this.changeFocusedItemIndex(e,n),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),o}findVisibleItem(e){return m.isNotEmpty(this.visibleItems)?this.visibleItems[e]:null}findLastFocusedItemIndex(){let e=this.findSelectedItemIndex();return e<0?this.findLastItemIndex():e}findLastItemIndex(){return m.findLastIndex(this.visibleItems,e=>this.isValidItem(e))}findPrevItemIndex(e){let i=e>0?m.findLastIndex(this.visibleItems.slice(0,e),n=>this.isValidItem(n)):-1;return i>-1?i:e}findNextItemIndex(e){let i=e<this.visibleItems.length-1?this.visibleItems.slice(e+1).findIndex(n=>this.isValidItem(n)):-1;return i>-1?i+e+1:e}findFirstFocusedItemIndex(){let e=this.findSelectedItemIndex();return e<0?this.findFirstItemIndex():e}findFirstItemIndex(){return this.visibleItems.findIndex(e=>this.isValidItem(e))}findSelectedItemIndex(){return this.visibleItems.findIndex(e=>this.isValidSelectedItem(e))}changeFocusedItemIndex(e,i){let n=this.findVisibleItem(i),o=this.focusedItemInfo();o.index!==i&&(this.focusedItemInfo.set(f(I({},o),{index:i,item:n.item})),this.scrollInView())}scrollInView(e=-1){let i=e!==-1?`${this.id}_${e}`:this.focusedItemId,n=c.findSingle(this.rootmenu.el.nativeElement,`li[id="${i}"]`);n&&n.scrollIntoView&&n.scrollIntoView({block:"nearest",inline:"nearest"})}bindResizeListener(){w(this.platformId)&&(this.resizeListener||(this.resizeListener=this.renderer.listen(this.document.defaultView,"resize",e=>{this.hide()})))}isOutsideClicked(e){return!(this.containerViewChild.nativeElement.isSameNode(e.target)||this.containerViewChild.nativeElement.contains(e.target))}unbindResizeListener(){this.resizeListener&&(this.resizeListener(),this.resizeListener=null)}unbindGlobalListeners(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null),this.documentTriggerListener&&(this.documentTriggerListener(),this.documentTriggerListener=null),this.resizeListener&&(this.resizeListener(),this.resizeListener=null),this.touchEndListener&&(this.touchEndListener(),this.touchEndListener=null)}unbindTriggerEventListener(){this.triggerEventListener&&(this.triggerEventListener(),this.triggerEventListener=null)}removeAppendedElements(){this.appendTo&&(this.appendTo==="body"?this.containerViewChild&&this.renderer.removeChild(this.document.body,this.containerViewChild.nativeElement):c.removeChild(this.containerViewChild.nativeElement,this.appendTo))}ngOnDestroy(){this.unbindGlobalListeners(),this.unbindTriggerEventListener(),this.removeAppendedElements()}static ɵfac=function(i){return new(i||s)(t.ɵɵdirectiveInject(F),t.ɵɵdirectiveInject(Q),t.ɵɵdirectiveInject(t.ElementRef),t.ɵɵdirectiveInject(t.Renderer2),t.ɵɵdirectiveInject(t.ChangeDetectorRef),t.ɵɵdirectiveInject(C.PrimeNGConfig),t.ɵɵdirectiveInject(C.OverlayService))};static ɵcmp=t.ɵɵdefineComponent({type:s,selectors:[["p-contextMenu"]],contentQueries:function(i,n,o){if(i&1&&t.ɵɵcontentQuery(o,q,4),i&2){let a;t.ɵɵqueryRefresh(a=t.ɵɵloadQuery())&&(n.templates=a)}},viewQuery:function(i,n){if(i&1&&(t.ɵɵviewQuery(Le,5),t.ɵɵviewQuery(Me,5)),i&2){let o;t.ɵɵqueryRefresh(o=t.ɵɵloadQuery())&&(n.rootmenu=o.first),t.ɵɵqueryRefresh(o=t.ɵɵloadQuery())&&(n.containerViewChild=o.first)}},hostAttrs:[1,"p-element"],inputs:{model:"model",triggerEvent:"triggerEvent",target:"target",global:"global",style:"style",styleClass:"styleClass",appendTo:"appendTo",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",id:"id",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",pressDelay:"pressDelay"},outputs:{onShow:"onShow",onHide:"onHide"},decls:1,vars:1,consts:[[3,"ngClass","class","ngStyle",4,"ngIf"],[3,"ngClass","ngStyle"],["container",""],[3,"root","items","itemTemplate","menuId","tabindex","ariaLabel","ariaLabelledBy","baseZIndex","autoZIndex","visible","focusedItemId","activeItemPath","itemClick","menuFocus","menuBlur","menuKeydown","itemMouseEnter"],["rootmenu",""]],template:function(i,n){i&1&&t.ɵɵtemplate(0,ke,4,22,"div",0),i&2&&t.ɵɵproperty("ngIf",n.visible())},dependencies:[u.NgClass,u.NgIf,u.NgStyle,Ae],styles:[`@layer primeng{.p-contextmenu{position:absolute}.p-contextmenu ul{margin:0;padding:0;list-style:none}.p-contextmenu .p-submenu-list{position:absolute;min-width:100%;z-index:1}.p-contextmenu .p-menuitem-link{cursor:pointer;display:flex;align-items:center;text-decoration:none;overflow:hidden;position:relative}.p-contextmenu .p-menuitem-text{line-height:1}.p-contextmenu .p-menuitem{position:relative}.p-contextmenu .p-menuitem-link .p-submenu-icon:not(svg){margin-left:auto}.p-contextmenu .p-menuitem-link .p-icon-wrapper{margin-left:auto}}
`],encapsulation:2,data:{animation:[A("overlayAnimation",[y(":enter",[b({opacity:0}),L("250ms")]),y(":leave",[L(".1s linear",b({opacity:0}))])])]},changeDetection:0})}return s})(),tt=(()=>{class s{static ɵfac=function(i){return new(i||s)};static ɵmod=t.ɵɵdefineNgModule({type:s});static ɵinj=t.ɵɵdefineInjector({imports:[N,M,U,V,K,P,M,V,P]})}return s})();export{Fe as ContextMenu,tt as ContextMenuModule,Ae as ContextMenuSub};