import*as e from"@angular/core";import{EventEmitter as a}from"@angular/core";import{CommonModule as u}from"@angular/common";import*as o from"@angular/forms";var b=(()=>{class t{el;ngModel;control;cd;autoResize;onResize=new a;filled;cachedScrollHeight;ngModelSubscription;ngControlSubscription;constructor(n,i,s,l){this.el=n,this.ngModel=i,this.control=s,this.cd=l}ngOnInit(){this.ngModel&&(this.ngModelSubscription=this.ngModel.valueChanges.subscribe(()=>{this.updateState()})),this.control&&(this.ngControlSubscription=this.control.valueChanges.subscribe(()=>{this.updateState()}))}ngAfterViewChecked(){this.updateState()}ngAfterViewInit(){this.autoResize&&this.resize(),this.updateFilledState(),this.cd.detectChanges()}onInput(n){this.updateState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length}resize(n){this.el.nativeElement.style.height="auto",this.el.nativeElement.style.height=this.el.nativeElement.scrollHeight+"px",parseFloat(this.el.nativeElement.style.height)>=parseFloat(this.el.nativeElement.style.maxHeight)?(this.el.nativeElement.style.overflowY="scroll",this.el.nativeElement.style.height=this.el.nativeElement.style.maxHeight):this.el.nativeElement.style.overflow="hidden",this.onResize.emit(n||{})}updateState(){this.updateFilledState(),this.autoResize&&this.resize()}ngOnDestroy(){this.ngModelSubscription&&this.ngModelSubscription.unsubscribe(),this.ngControlSubscription&&this.ngControlSubscription.unsubscribe()}static ɵfac=function(i){return new(i||t)(e.ɵɵdirectiveInject(e.ElementRef),e.ɵɵdirectiveInject(o.NgModel,8),e.ɵɵdirectiveInject(o.NgControl,8),e.ɵɵdirectiveInject(e.ChangeDetectorRef))};static ɵdir=e.ɵɵdefineDirective({type:t,selectors:[["","pInputTextarea",""]],hostAttrs:[1,"p-inputtextarea","p-inputtext","p-component","p-element"],hostVars:4,hostBindings:function(i,s){i&1&&e.ɵɵlistener("input",function(r){return s.onInput(r)}),i&2&&e.ɵɵclassProp("p-filled",s.filled)("p-inputtextarea-resizable",s.autoResize)},inputs:{autoResize:"autoResize"},outputs:{onResize:"onResize"}})}return t})(),M=(()=>{class t{static ɵfac=function(i){return new(i||t)};static ɵmod=e.ɵɵdefineNgModule({type:t});static ɵinj=e.ɵɵdefineInjector({imports:[u]})}return t})();export{b as InputTextarea,M as InputTextareaModule};