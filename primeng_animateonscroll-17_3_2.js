var u=Object.defineProperty,b=Object.defineProperties;var f=Object.getOwnPropertyDescriptors;var a=Object.getOwnPropertySymbols;var p=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable;var l=(t,s,e)=>s in t?u(t,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[s]=e,h=(t,s)=>{for(var e in s||={})p.call(s,e)&&l(t,e,s[e]);if(a)for(var e of a(s))E.call(s,e)&&l(t,e,s[e]);return t},v=(t,s)=>b(t,f(s));import{isPlatformBrowser as d,DOCUMENT as C,CommonModule as I}from"@angular/common";import*as i from"@angular/core";import{PLATFORM_ID as O}from"@angular/core";import{DomHandler as r}from"primeng/dom";var w=(()=>{class t{document;platformId;host;el;renderer;enterClass;leaveClass;root;rootMargin;threshold;once=!0;observer;resetObserver;isObserverActive=!1;animationState;animationEndListener;constructor(e,n,o,m,c){this.document=e,this.platformId=n,this.host=o,this.el=m,this.renderer=c}ngOnInit(){d(this.platformId)&&this.renderer.setStyle(this.host.nativeElement,"opacity",this.enterClass?"0":"")}ngAfterViewInit(){d(this.platformId)&&this.bindIntersectionObserver()}get options(){return{root:this.root,rootMargin:this.rootMargin,threshold:this.threshold}}bindIntersectionObserver(){this.observer=new IntersectionObserver(([e])=>{this.isObserverActive?e.boundingClientRect.top>0&&(e.isIntersecting?this.enter():this.leave()):e.isIntersecting&&this.enter(),this.isObserverActive=!0},this.options),setTimeout(()=>this.observer.observe(this.host.nativeElement),0),this.resetObserver=new IntersectionObserver(([e])=>{e.boundingClientRect.top>0&&!e.isIntersecting&&(this.host.nativeElement.style.opacity=this.enterClass?"0":"",r.removeMultipleClasses(this.host.nativeElement,[this.enterClass,this.leaveClass]),this.resetObserver.unobserve(this.host.nativeElement)),this.animationState=void 0},v(h({},this.options),{threshold:0}))}enter(){this.animationState!=="enter"&&this.enterClass&&(this.host.nativeElement.style.opacity="",r.removeMultipleClasses(this.host.nativeElement,this.leaveClass),r.addMultipleClasses(this.host.nativeElement,this.enterClass),this.once&&this.unbindIntersectionObserver(),this.bindAnimationEvents(),this.animationState="enter")}leave(){this.animationState!=="leave"&&this.leaveClass&&(this.host.nativeElement.style.opacity=this.enterClass?"0":"",r.removeMultipleClasses(this.host.nativeElement,this.enterClass),r.addMultipleClasses(this.host.nativeElement,this.leaveClass),this.bindAnimationEvents(),this.animationState="leave")}bindAnimationEvents(){this.animationEndListener||(this.animationEndListener=this.renderer.listen(this.host.nativeElement,"animationend",()=>{r.removeMultipleClasses(this.host.nativeElement,[this.enterClass,this.leaveClass]),!this.once&&this.resetObserver.observe(this.host.nativeElement),this.unbindAnimationEvents()}))}unbindAnimationEvents(){this.animationEndListener&&(this.animationEndListener(),this.animationEndListener=null)}unbindIntersectionObserver(){this.observer?.unobserve(this.host.nativeElement),this.resetObserver?.unobserve(this.host.nativeElement),this.isObserverActive=!1}ngOnDestroy(){this.unbindAnimationEvents(),this.unbindIntersectionObserver()}static ɵfac=function(n){return new(n||t)(i.ɵɵdirectiveInject(C),i.ɵɵdirectiveInject(O),i.ɵɵdirectiveInject(i.ElementRef),i.ɵɵdirectiveInject(i.ElementRef),i.ɵɵdirectiveInject(i.Renderer2))};static ɵdir=i.ɵɵdefineDirective({type:t,selectors:[["","pAnimateOnScroll",""]],hostVars:2,hostBindings:function(n,o){n&2&&i.ɵɵclassProp("p-animateonscroll",!0)},inputs:{enterClass:"enterClass",leaveClass:"leaveClass",root:"root",rootMargin:"rootMargin",threshold:"threshold",once:"once"}})}return t})(),R=(()=>{class t{static ɵfac=function(n){return new(n||t)};static ɵmod=i.ɵɵdefineNgModule({type:t});static ɵinj=i.ɵɵdefineInjector({imports:[I]})}return t})();export{w as AnimateOnScroll,R as AnimateOnScrollModule};